#### 如何避免消息丢失

* publisher-confirms 发送方确认机制
* ack 消费者确认机制
* 消息持久化

#### 消息持久化

* 队列持久化
* 消息持久化

#### 延迟消息

* 设置消息`expiration` 过期时间
* 创建保存延迟消息的队列(消息在过期时,会触发死信路由,可以将消息转到该队列中,变相实现延迟投递)